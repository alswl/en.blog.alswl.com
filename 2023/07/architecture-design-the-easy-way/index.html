<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Architecture Design the Easy Way | Log4D</title>
<meta name="keywords" content="Design, Architecture">
<meta name="description" content="








image via Pixabay
Overview
A few days ago, I gave an internal tech talk to my team on best practices for architecture design. I condensed these practices into a 20-character mantra:

Architecture looks at the problem
Requirements look at use cases
Design looks at the model
Details look at the sequence

I shared this mantra on Twitter, and many friends showed strong interest and wanted to go deeper. So I expanded the ideas from that talk into this article.">
<meta name="author" content="alswl">
<link rel="canonical" href="https://en.blog.alswl.com/2023/07/architecture-design-the-easy-way/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.64fb475d177db37c9860399f6ba2d663d64d0f83268a44c0fcbc2ebfea7c1dcc.css" integrity="sha256-ZPtHXRd9s3yYYDmfa6LWY9ZND4MmikTA/Lwuv&#43;p8Hcw=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://en.blog.alswl.com/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://en.blog.alswl.com/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://en.blog.alswl.com/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://en.blog.alswl.com/apple-touch-icon.png">
<link rel="mask-icon" href="https://en.blog.alswl.com/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" type="text/markdown" href="https://en.blog.alswl.com/2023/07/architecture-design-the-easy-way/index.md">
<link rel="alternate" hreflang="en" href="https://en.blog.alswl.com/2023/07/architecture-design-the-easy-way/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-QLEQ62FMM1"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-QLEQ62FMM1');
        }
      </script><meta property="og:url" content="https://en.blog.alswl.com/2023/07/architecture-design-the-easy-way/">
  <meta property="og:site_name" content="Log4D">
  <meta property="og:title" content="Architecture Design the Easy Way">
  <meta property="og:description" content=" image via Pixabay
Overview A few days ago, I gave an internal tech talk to my team on best practices for architecture design. I condensed these practices into a 20-character mantra:
Architecture looks at the problem Requirements look at use cases Design looks at the model Details look at the sequence I shared this mantra on Twitter, and many friends showed strong interest and wanted to go deeper. So I expanded the ideas from that talk into this article.">
  <meta property="og:locale" content="en-us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2023-07-29T14:54:27+08:00">
    <meta property="article:modified_time" content="2023-07-29T14:54:27+08:00">
    <meta property="article:tag" content="Design">
    <meta property="article:tag" content="Architecture">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Architecture Design the Easy Way">
<meta name="twitter:description" content="








image via Pixabay
Overview
A few days ago, I gave an internal tech talk to my team on best practices for architecture design. I condensed these practices into a 20-character mantra:

Architecture looks at the problem
Requirements look at use cases
Design looks at the model
Details look at the sequence

I shared this mantra on Twitter, and many friends showed strong interest and wanted to go deeper. So I expanded the ideas from that talk into this article.">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://en.blog.alswl.com/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Architecture Design the Easy Way",
      "item": "https://en.blog.alswl.com/2023/07/architecture-design-the-easy-way/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Architecture Design the Easy Way",
  "name": "Architecture Design the Easy Way",
  "description": " image via Pixabay\nOverview A few days ago, I gave an internal tech talk to my team on best practices for architecture design. I condensed these practices into a 20-character mantra:\nArchitecture looks at the problem Requirements look at use cases Design looks at the model Details look at the sequence I shared this mantra on Twitter, and many friends showed strong interest and wanted to go deeper. So I expanded the ideas from that talk into this article.\n",
  "keywords": [
    "Design", "Architecture"
  ],
  "articleBody": " image via Pixabay\nOverview A few days ago, I gave an internal tech talk to my team on best practices for architecture design. I condensed these practices into a 20-character mantra:\nArchitecture looks at the problem Requirements look at use cases Design looks at the model Details look at the sequence I shared this mantra on Twitter, and many friends showed strong interest and wanted to go deeper. So I expanded the ideas from that talk into this article.\nArchitecture Design and System Analysis Let‚Äôs first clarify what architecture design and system analysis are (the latter often shortened to ‚Äúsystem analysis‚Äù). Some of you are familiar with the first but not the second. No worries‚Äîhere‚Äôs how Wikipedia introduces them:\nArchitecture: Software architecture is an abstract description of the overall structure and components of software, used to guide the design of various aspects of large software systems.\nSystem analysis aims to study the interactions between parts (subsystems) in a given system structure, the system‚Äôs external interfaces and boundaries, and the behavior, functions, and limitations of the system as a whole, so as to provide reference and basis for future changes and related decisions.\nThe English definitions may make it clearer:\nArchitecture = Software Architecture (design) = Software architecture - Wikipedia System analysis = Systems analysis - Wikipedia + Systems design - Wikipedia What we sometimes call ‚Äúdesign docs‚Äù may cover the whole design process: architecture design, system analysis, and other design activities (communication, PoC, etc.).\nSoftware Architecture (design) = Software Architecture\nDefine and implement the basic structure and organization of software systems At the business level: clarify the problem, define concepts, present value At the technical level: choose foundational frameworks, turn uncertainty into certainty At the engineering level: identify boundaries, split modules, improve development efficiency System Analysis = System Analysis\nThe process of analyzing and studying business needs and problems At the business level: requirement gathering, requirement analysis At the technical level: modeling, flowcharts, data flow diagrams, interface design At the engineering level: implementing requirements within applications and system frameworks Finally, how I see the boundary between the two: I believe there is no sharp line between architecture design and system analysis. Any system or module will go through system analysis. You start thinking in terms of architecture when:\nMore than three teams are collaborating, because that involves interests and boundaries. You begin to introduce uncertainty, whether actively or passively. You are making trade-offs: what to do first, what to do next. The system is so complex that it‚Äôs hard to reach consensus and explanation cost rises. You can provide information others don‚Äôt have. What Is Architecture Here we focus on technical architecture, not business or product architecture. The emphasis is how to use technical capabilities and methods more efficiently to solve a certain type of problem.\nTechnical architecture can be split in two: one is top-down‚Äîbusiness, strategy, and framework division; the other is focused on engineering and implementation (coding).\nExperienced people often have a more macro view. Common terms include: global, macro, domain, strategy, balance, planning. I turned these into a word cloud:\ngenerated by https://tendcode.com/tool/word-cloud/\nThese concepts matter a lot in architecture design and system analysis, because they help us think about the whole picture and even beyond technology‚Äîfrom business value, commercial strategy, and business strategy.\nThe other kind of architecture is more about engineering design and implementation. Typical keywords: domain modeling, UML, GoF 23, SOLID, high cohesion and low coupling, etc. Word cloud:\ngenerated by https://tendcode.com/tool/word-cloud/\nArchitecture is a broad topic. This article picks one angle: making architectural thinking useful in day-to-day work through practice and methodology, to cover about 80% of engineering design and development scenarios. I call this ‚Äúarchitecture design the easy way.‚Äù\nMinimalist Architecture Design ‚Äî Architecture Looks at the Problem The first and most important step in understanding architecture is to focus on the problem: what problem are you facing, and how will you solve it?\nUsually, if our business and systems run stably and we don‚Äôt run into problems, we don‚Äôt need much architecture design. But whenever we do architecture design, it‚Äôs because we have a problem. The problem may come from new requirements, changes in the environment, or the system‚Äôs own evolution. Whatever the source, we have a problem.\nAfter we have a problem, how do we solve it? Like ‚Äúputting the elephant in the fridge,‚Äù we break it into steps.\nimage via unknown\nSo solving a problem has three steps: first describe the problem clearly, second negotiate and decide until there is agreement, third take action to solve it.\nOne more question that might sound silly: why can‚Äôt we just solve the problem directly?\nBecause problems are complex; there are many solution paths, and different options have different pros, cons, and costs. In architecture design we need to make these decisions.\nThen why not just make the decision, or even start coding right away?\nFirst, there may be authority issues‚Äîthe architect may not have final say; someone with decision rights may need to sign off. Second, the architect may not be an expert in every area; designing a complex system often requires coordinating multiple parts and domain experts to evaluate and decide together.\nExample Take Prometheus‚Äôs architecture as an example.\nimage via Prometheus\nThis diagram answers many questions. A few examples:\nProblem: Push or pull for data collection? What storage? How to design the alerting pipeline? Decisions: Pull (Pushgateway in a few cases); custom TSDB; Alertmanager to integrate with external systems ROI: Pull reduces observability cost on targets, no need for a push-based registry; no suitable external implementation at the time; Router/Sub alert mechanism for flexible integration Summary Problems drive architecture change; the architecture addresses the problem; architecture review aligns on the solution.\nOn who gets to decide: I strongly believe architects should form their own view based on domain knowledge, industry judgment, and understanding of the current situation. That thinking should be supported by cause and effect. A good architect must have a point of view.\nOne small add: why didn‚Äôt I mention architecture layers or module layers?\nNot because layering and frameworks don‚Äôt matter‚Äîeveryone is already professional there. Layering and modularity are basic common sense and skills, so they usually aren‚Äôt the focus of debate and decisions. If you can‚Äôt quickly agree on layers and frameworks, either the team composition is off or the problem is so complex it‚Äôs no longer in the 80% case.\nDeliverables at this stage: architecture diagram and shared understanding of problem, value, cost, risk, and responsibilities.\nMinimalist Architecture Design ‚Äî Requirements Look at Use Cases Requirements are the answer to the problem. I like to use mind maps or a blank sheet to draw and make requirements clear. What to draw? Clarify roles and list actions and behaviors.\nWhat‚Äôs a good way to organize everything? I often use a subject‚Äìverb‚Äìobject (and adjuncts) approach: who does what, in what scenario (optional), in what state (optional).\nimage via unknown\nUse cases break requirements down clearly, and you keep communicating with the stakeholders in the process.\nDemo scripts are the product manager‚Äôs weapon; requirement use cases are the engineer‚Äôs weapon.\nSome junior engineers unconsciously become mere executors of requirements. I‚Äôd say engineers who don‚Äôt understand the business aren‚Äôt much different from outsourced labor. The requirement analysis phase is crucial‚Äîit‚Äôs the chance to understand, structure, and redesign the business input. By organizing use cases, we can push back on unrealistic or unreliable requirements.\nThis is one of the few phases where we can influence (and give feedback to) the requirement side; make the most of it.\nExample Here‚Äôs an example of a product use case:\nimage via Netease Cloud Music product analysis\nThis use case was actually summarized by ‚Äúthe other side‚Äù üòÑ, but it still shows how important use cases are.\nSummary Besides subject‚Äìverb‚Äìobject, other useful techniques:\nUser journey (action path): imagine the path the user (or actor) takes to reach their goal Prioritize solving the 20% of issues on the core path Organize use cases by role, orthogonal split, etc.; assign use cases to modules Deliverables: demo script, use case diagram.\nMinimalist Architecture Design ‚Äî Design Looks at the Model To me, the core of design is the model: the model defines the carrier and boundaries of data. Data defines the components; boundaries define ownership and responsibility. In UML, many entities and objects are used to define model boundaries. As the business system grows in complexity, modeling faces greater challenges.\nA few modeling principles I use:\nDefine terms (in both languages if needed), meaning, and notes. Identify core models (focus on the critical 20%). Refine and abstract models. Make relationships between models explicit. Combine static and dynamic: a few models have behavior; focus on the functions they provide. Map business model ‚Üî data model. Many people don‚Äôt care about a glossary, but I do. There‚Äôs an effect called ‚Äúforeign language effect‚Äù‚Äîlike using Latin/Greek in natural history to describe species. For non-native English engineers, using English for terms can help focus the discussion.\nAlways keep the 80/20 rule in mind, especially in design: focus on core objects and zoom in on them rather than getting lost in details. Usually, focusing on the core 20% of models is enough for most scenarios.\nWhen refining and abstracting models, iterate carefully. You can connect this to earlier use case definition and later sequence design; it takes solid domain knowledge. I like to refer to external code and designs at this stage.\nRelationships between models are mainly 1:1, 1:N, M:N. Use arrows to show primary vs. secondary clearly. Primary/secondary implies ownership and affects many downstream details (URLs, database, lifecycle, etc.). I recommend avoiding M:N when possible; it often indicates an intermediate credential or relationship/binding.\nBesides static data, consider model behavior (only a few models have it). This stage can feed into the next step‚Äîdetailed design.\nAfter the business model, think about the data model. For typical business systems, this mapping is straightforward. Business systems are often stateless and rely on the database for storage. For data-intensive applications (DIA), you need to think about runtime data, lifecycle, and availability (if you have that need, you probably aren‚Äôt reading this far üòÑ).\nExample Kubernetes RBAC (Role-Based Access Control) is a common AuthZ (authorization) system (not AuthN‚Äîauthentication).\nimage via Kubernetes RBAC - DEV Community\nA few questions to consider:\nWhy both Role and ClusterRole? What‚Äôs their structure? Why not ACL? What‚Äôs the difference between ACL and RBAC? Why not Policy? Modeling is what gives you these answers.\nModels in Non-Business Systems We‚Äôve been focusing on business models‚Äîwhat users perceive and the product understands, usually stored in the DB.\nIn infrastructure, there are models too, sometimes called ‚Äúconcepts.‚Äù Infrastructure models are often simpler; business models can be very complex because the world is complex, while infrastructure focuses on narrow, vertical problems.\nInfrastructure also leads to more abstract modeling‚Äîe.g. the often-overlooked Manager/Service pattern. Models with data and state, like Executor, are common; Registry and Queue are common too.\nKubernetes Concepts‚Äîdozens of subcategories and hundreds of concepts‚Äîshow how complex such a system can be.\nSummary Models are not just data; they define boundaries, and boundaries determine ownership and responsibility.\nDesign models in both static and dynamic terms: statically what they hold, dynamically what they do.\nIn infrastructure, deliverables may include UML model diagram, ER diagram, DB DML, class files, OpenAPI/Swagger (partially), etc.\nMinimalist Architecture Design ‚Äî Details Look at the Sequence Programming = Data structures + Algorithms + Control flow\nBefore turning design into code, the last important step is nailing the details. For stakeholders and decision makers this step may not matter much, but for the implementers (the dev team) it directly affects delivery quality and timeline.\nI think details should be captured in sequence diagrams.\nWe often use two kinds of diagrams for details: flowcharts and sequence diagrams. They have a lot in common, but I prefer sequence diagrams because they show order and make the boundaries and interactions between systems clear.\nMy rule of thumb: one sequence diagram per use case.\nExample Example from an official AWS blog:\nvia AWS Architecture Blog\nThe diagram shows a sequence for using CloudFront in AWS: how requests flow across systems and how various error cases are handled.\nSummary A few tips for sequence diagrams:\nUser action is the trigger System boundaries must be clear Request and response = synchronous Request without response = asynchronous Usually, once the sequence diagram is solid, you can hand off to the team with confidence. Without it, you rely entirely on collaboration and trust.\nDeliverables: sequence diagram, API docs (OpenAPI/Swagger), frontend service generation (if applicable).\nMinimalist Architecture Design ‚Äî Wrap-up By this point we haven‚Äôt written code yet, but we know what to do and what it will look like. We have class structure, API definitions, frontend service generation, etc. Multiple teams can work in parallel without obvious bottlenecks.\n‚úÖ Problem defined ‚úÖ Approach chosen ‚úÖ Class structure, API definitions ‚úÖ Server-side code generation ‚úÖ Flow agreed ‚úÖ About 1/3 of reporting material ‚úÖ About 1/2 of tech talk material If you need to report later, you already have about one third of the content. If you need to write a tech talk, you have about half.\nIf the project is a simple CRUD app, there usually aren‚Äôt many hard parts.\nIf it‚Äôs a data-intensive application (DIA), you need to design and implement storage and think about consistency and concurrency. For a complex system, you also need to check for uncertainty at the boundaries between systems. If you have sync challenges (e.g. framework changes, communication layer changes), de-risk early. (I don‚Äôt think doing tech upgrades and feature development in parallel is wise.)\nExtra ‚Äî Drawing Tools I have my own set of drawing tools for architecture diagrams, flowcharts, etc. P.S. I even design logos for my products‚Äîmaybe I‚Äôve always wanted to be a designer üôÇ\nAs an engineer, you should build your own drawing UI kit, get good at it, and put together a toolbox so you can turn ideas in your head into documents quickly.\nMy toolkit is fairly rich. For architecture diagrams:\nBlock diagrams OmniGraffle (paid, complex, polished) Excalidraw (simple, casual) Deployment diagrams Excalidraw Mind maps SimpleMind (paid) XMind (paid) For engineering design (UML):\nUse cases Yuque drawing PlantUML (Yuque can render it) Sequence diagrams PlantUML State diagrams Yuque ER diagrams Excalidraw Gantt charts PlantUML Shameless plug: I maintain Excalidraw (Fork), with Chinese handwriting fonts and consistent style.\nExtra ‚Äî the Hard Way We started from a simple, practical architecture design flow. If you‚Äôre the curious type, that may not be enough‚Äîthere‚Äôs still the 20% of complex cases. Here are some keywords and book recommendations to go deeper:\nPrinciples Philosophy Ideas Laws Methodology Case studies Some books that help:\nBusiness architecture Applying UML and Patterns - Craig Larman Domain-Driven Design - Eric Evans Technical architecture Refactoring - Martin Fowler Clean Code - Robert C. Martin ",
  "wordCount" : "2475",
  "inLanguage": "en",
  "datePublished": "2023-07-29T14:54:27+08:00",
  "dateModified": "2023-07-29T14:54:27+08:00",
  "author":{
    "@type": "Person",
    "name": "alswl"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://en.blog.alswl.com/2023/07/architecture-design-the-easy-way/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Log4D",
    "logo": {
      "@type": "ImageObject",
      "url": "https://en.blog.alswl.com/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://en.blog.alswl.com/" accesskey="h" title="Log4D (Alt + H)">Log4D</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://blog.alswl.com/" title="‰∏≠ÊñáÂçöÂÆ¢">
                    <span>‰∏≠ÊñáÂçöÂÆ¢</span>&nbsp;
                    <svg fill="none" shape-rendering="geometricPrecision" stroke="currentColor" stroke-linecap="round"
                        stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12">
                        <path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"></path>
                        <path d="M15 3h6v6"></path>
                        <path d="M10 14L21 3"></path>
                    </svg>
                </a>
            </li>
            <li>
                <a href="https://en.blog.alswl.com/categories/" title="Categories">
                    <span>Categories</span>
                </a>
            </li>
            <li>
                <a href="https://en.blog.alswl.com/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
            <li>
                <a href="https://en.blog.alswl.com/archives/" title="Archives">
                    <span>Archives</span>
                </a>
            </li>
            <li>
                <a href="https://en.blog.alswl.com/about/" title="About">
                    <span>About</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://en.blog.alswl.com/">Home</a>&nbsp;¬ª&nbsp;<a href="https://en.blog.alswl.com/posts/">Posts</a></div>
    <h1 class="post-title entry-hint-parent">
      Architecture Design the Easy Way
    </h1>
    <div class="post-meta"><span title='2023-07-29 14:54:27 +0800 +0800'>2023-07-29</span>&nbsp;¬∑&nbsp;alswl

</div>
  </header> <div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><nav id="TableOfContents">
  <ul>
    <li><a href="#overview">Overview</a></li>
    <li><a href="#architecture-design-and-system-analysis">Architecture Design and System Analysis</a></li>
    <li><a href="#what-is-architecture">What Is Architecture</a></li>
    <li><a href="#minimalist-architecture-design--architecture-looks-at-the-problem">Minimalist Architecture Design ‚Äî Architecture Looks at the Problem</a>
      <ul>
        <li><a href="#example">Example</a></li>
        <li><a href="#summary">Summary</a></li>
      </ul>
    </li>
    <li><a href="#minimalist-architecture-design--requirements-look-at-use-cases">Minimalist Architecture Design ‚Äî Requirements Look at Use Cases</a>
      <ul>
        <li><a href="#example-1">Example</a></li>
        <li><a href="#summary-1">Summary</a></li>
      </ul>
    </li>
    <li><a href="#minimalist-architecture-design--design-looks-at-the-model">Minimalist Architecture Design ‚Äî Design Looks at the Model</a>
      <ul>
        <li><a href="#example-2">Example</a></li>
        <li><a href="#models-in-non-business-systems">Models in Non-Business Systems</a></li>
        <li><a href="#summary-2">Summary</a></li>
      </ul>
    </li>
    <li><a href="#minimalist-architecture-design--details-look-at-the-sequence">Minimalist Architecture Design ‚Äî Details Look at the Sequence</a>
      <ul>
        <li><a href="#example-3">Example</a></li>
        <li><a href="#summary-3">Summary</a></li>
      </ul>
    </li>
    <li><a href="#minimalist-architecture-design--wrap-up">Minimalist Architecture Design ‚Äî Wrap-up</a></li>
    <li><a href="#extra--drawing-tools">Extra ‚Äî Drawing Tools</a></li>
    <li><a href="#extra--the-hard-way">Extra ‚Äî the Hard Way</a></li>
  </ul>
</nav>
        </div>
    </details>
</div>

  <div class="post-content"><p>




<img loading="lazy" src="https://en.blog.alswl.com/202307/arch-easy.png" alt="arch-easy"  />


</p>
<p><small>image via <a href="https://pixabay.com/photos/child-tower-building-blocks-blocks-1864718/">Pixabay</a></small></p>
<h2 id="overview">Overview<a hidden class="anchor" aria-hidden="true" href="#overview">#</a></h2>
<p>A few days ago, I gave an internal tech talk to my team on best practices for architecture design. I condensed these practices into a <mark>20-character mantra</mark>:</p>
<ol>
<li>Architecture looks at the problem</li>
<li>Requirements look at use cases</li>
<li>Design looks at the model</li>
<li>Details look at the sequence</li>
</ol>
<p>I shared this mantra on <a href="https://twitter.com/alswl/status/1683778487726006272">Twitter</a>, and many friends showed strong interest and wanted to go deeper. So I expanded the ideas from that talk into this article.</p>
<h2 id="architecture-design-and-system-analysis">Architecture Design and System Analysis<a hidden class="anchor" aria-hidden="true" href="#architecture-design-and-system-analysis">#</a></h2>
<p>Let‚Äôs first clarify <mark>what architecture design and system analysis are</mark> (the latter often shortened to ‚Äúsystem analysis‚Äù). Some of you are familiar with the first but not the second. No worries‚Äîhere‚Äôs how Wikipedia introduces them:</p>
<blockquote>
<p><strong>Architecture</strong>: <strong>Software architecture</strong> is an abstract description of the overall structure and components of software, used to guide the design of various aspects of large software systems.</p>
<p><strong>System analysis</strong> aims to study the interactions between parts (subsystems) in a given system structure, the system‚Äôs external interfaces and boundaries, and the behavior, functions, and limitations of the system as a whole, so as to provide reference and basis for future changes and related decisions.</p></blockquote>
<p>The English definitions may make it clearer:</p>
<ul>
<li>Architecture = Software Architecture (design) = <a href="https://en.wikipedia.org/wiki/Software_architecture">Software architecture - Wikipedia</a></li>
<li>System analysis = <a href="https://en.wikipedia.org/wiki/Systems_analysis">Systems analysis - Wikipedia</a> + <a href="https://en.wikipedia.org/wiki/Systems_design">Systems design - Wikipedia</a></li>
</ul>
<p>What we sometimes call ‚Äúdesign docs‚Äù may cover the whole design process: architecture design, system analysis, and other design activities (communication, PoC, etc.).</p>
<p>Software Architecture (design) = Software Architecture</p>
<ul>
<li>Define and implement the basic structure and organization of software systems</li>
<li>At the business level: clarify the problem, define concepts, present value</li>
<li>At the technical level: choose foundational frameworks, turn uncertainty into certainty</li>
<li>At the engineering level: identify boundaries, split modules, improve development efficiency</li>
</ul>
<p>System Analysis = System Analysis</p>
<ul>
<li>The process of analyzing and studying business needs and problems</li>
<li>At the business level: requirement gathering, requirement analysis</li>
<li>At the technical level: modeling, flowcharts, data flow diagrams, interface design</li>
<li>At the engineering level: implementing requirements within applications and system frameworks</li>
</ul>
<p>Finally, how I see the boundary between the two: I believe <mark>there is no sharp line between architecture design and system analysis</mark>. Any system or module will go through system analysis. You start thinking in terms of architecture when:</p>
<ul>
<li>More than three teams are collaborating, because that involves interests and boundaries.</li>
<li>You begin to introduce uncertainty, whether actively or passively.</li>
<li>You are making trade-offs: what to do first, what to do next.</li>
<li>The system is so complex that it‚Äôs hard to reach consensus and explanation cost rises.</li>
<li>You can provide information others don‚Äôt have.</li>
</ul>
<h2 id="what-is-architecture">What Is Architecture<a hidden class="anchor" aria-hidden="true" href="#what-is-architecture">#</a></h2>
<p>Here we focus on <strong>technical</strong> architecture, not business or product architecture. The emphasis is <mark>how to use technical capabilities and methods more efficiently to solve a certain type of problem</mark>.</p>
<p>Technical architecture can be split in two: one is <mark>top-down</mark>‚Äîbusiness, strategy, and framework division; the other is <mark>focused on engineering and implementation (coding)</mark>.</p>
<p>Experienced people often have a more macro view. Common terms include: global, macro, domain, strategy, balance, planning. I turned these into a word cloud:</p>
<p>




<img loading="lazy" src="https://en.blog.alswl.com/202307/word-cloud-arch-biz.png" alt="word-cloud-arch-biz"  />


</p>
<p><small>generated by <a href="https://tendcode.com/tool/word-cloud/">https://tendcode.com/tool/word-cloud/</a></small></p>
<p>These concepts matter a lot in architecture design and system analysis, because they help us think about the whole picture and even beyond technology‚Äîfrom business value, commercial strategy, and business strategy.</p>
<p>The other kind of architecture is more about engineering design and implementation. Typical keywords: domain modeling, UML, GoF 23, SOLID, high cohesion and low coupling, etc. Word cloud:</p>
<p>




<img loading="lazy" src="https://en.blog.alswl.com/202307/word-cloud-arch-impl.png" alt="word-cloud-arch-impl"  />


</p>
<p><small>generated by <a href="https://tendcode.com/tool/word-cloud/">https://tendcode.com/tool/word-cloud/</a></small></p>
<p>Architecture is a broad topic. This article picks one angle: <mark>making architectural thinking useful in day-to-day work through practice and methodology, to cover about 80% of engineering design and development scenarios</mark>. I call this ‚Äúarchitecture design the easy way.‚Äù</p>
<h2 id="minimalist-architecture-design--architecture-looks-at-the-problem">Minimalist Architecture Design ‚Äî Architecture Looks at the Problem<a hidden class="anchor" aria-hidden="true" href="#minimalist-architecture-design--architecture-looks-at-the-problem">#</a></h2>
<p>The first and most important step in understanding architecture is to focus on the <strong>problem</strong>: <mark>what problem are you facing, and how will you solve it?</mark></p>
<p>Usually, if our business and systems run stably and we don‚Äôt run into problems, we don‚Äôt need much architecture design. But whenever we do architecture design, it‚Äôs because we have a problem. The problem may come from new requirements, changes in the environment, or the system‚Äôs own evolution. Whatever the source, we have a problem.</p>
<p>After we have a problem, how do we solve it? Like ‚Äúputting the elephant in the fridge,‚Äù we break it into steps.</p>
<p>




<img loading="lazy" src="https://en.blog.alswl.com/202307/elephant.png" alt="Putting the elephant in the fridge"  />


</p>
<p><small>image via unknown</small></p>
<p>So solving a problem has three steps: first describe the problem clearly, second negotiate and decide until there is agreement, third take action to solve it.</p>
<p>




<img loading="lazy" src="https://en.blog.alswl.com/202307/q-n-a.png" alt="Problem ‚Äî Agreement ‚Äî Action"  />


</p>
<p>One more question that might sound silly: why can‚Äôt we just solve the problem directly?</p>
<p>Because problems are complex; there are many solution paths, and different options have different pros, cons, and costs. In architecture design we need to make these decisions.</p>
<p>Then why not just make the decision, or even start coding right away?</p>
<p>First, there may be authority issues‚Äîthe architect may not have final say; someone with decision rights may need to sign off. Second, the architect may not be an expert in every area; designing a complex system often requires coordinating multiple parts and domain experts to evaluate and decide together.</p>
<h3 id="example">Example<a hidden class="anchor" aria-hidden="true" href="#example">#</a></h3>
<p>Take Prometheus‚Äôs architecture as an example.</p>
<p>




<img loading="lazy" src="https://en.blog.alswl.com/202307/prometheus-architecture.png" alt="Prometheus architecture"  />


</p>
<p><small>image via <a href="https://prometheus.io/docs/introduction/overview/">Prometheus</a></small></p>
<p>This diagram answers many questions. A few examples:</p>
<ul>
<li>Problem: Push or pull for data collection? What storage? How to design the alerting pipeline?</li>
<li>Decisions: Pull (Pushgateway in a few cases); custom TSDB; Alertmanager to integrate with external systems</li>
<li>ROI: Pull reduces observability cost on targets, no need for a push-based registry; no suitable external implementation at the time; Router/Sub alert mechanism for flexible integration</li>
</ul>
<h3 id="summary">Summary<a hidden class="anchor" aria-hidden="true" href="#summary">#</a></h3>
<p>Problems drive architecture change; the architecture addresses the problem; architecture review aligns on the solution.</p>
<p>On who gets to decide: I strongly believe architects should form their own view based on domain knowledge, industry judgment, and understanding of the current situation. That thinking should be supported by cause and effect. <mark>A good architect must have a point of view.</mark></p>
<p>One small add: why didn‚Äôt I mention architecture layers or module layers?</p>
<p>Not because layering and frameworks don‚Äôt matter‚Äîeveryone is already professional there. Layering and modularity are basic common sense and skills, so they usually aren‚Äôt the focus of debate and decisions. If you can‚Äôt quickly agree on layers and frameworks, either the team composition is off or the problem is so complex it‚Äôs no longer in the 80% case.</p>
<p>Deliverables at this stage: architecture diagram and shared understanding of problem, value, cost, risk, and responsibilities.</p>
<h2 id="minimalist-architecture-design--requirements-look-at-use-cases">Minimalist Architecture Design ‚Äî Requirements Look at Use Cases<a hidden class="anchor" aria-hidden="true" href="#minimalist-architecture-design--requirements-look-at-use-cases">#</a></h2>
<p>Requirements are the answer to the problem. I like to <mark>use mind maps or a blank sheet to draw</mark> and make requirements clear. What to draw? Clarify roles and list actions and behaviors.</p>
<p>What‚Äôs a good way to organize everything? I often use a <mark>subject‚Äìverb‚Äìobject (and adjuncts)</mark> approach: who does what, in what scenario (optional), in what state (optional).</p>
<p>




<img loading="lazy" src="https://en.blog.alswl.com/202307/gramma.jpg" alt="Subject-verb-object"  />


</p>
<p><small>image via unknown</small></p>
<p>Use cases break requirements down clearly, and you keep communicating with the stakeholders in the process.</p>
<p><mark>Demo scripts are the product manager‚Äôs weapon; requirement use cases are the engineer‚Äôs weapon.</mark></p>
<p>Some junior engineers unconsciously become mere executors of requirements. I‚Äôd say engineers who don‚Äôt understand the business aren‚Äôt much different from outsourced labor. The requirement analysis phase is crucial‚Äîit‚Äôs the chance to understand, structure, and redesign the business input. By organizing use cases, we can push back on unrealistic or unreliable requirements.</p>
<p>This is one of the few phases where we can influence (and give feedback to) the requirement side; make the most of it.</p>
<h3 id="example-1">Example<a hidden class="anchor" aria-hidden="true" href="#example-1">#</a></h3>
<p>Here‚Äôs an example of a product use case:</p>
<p>




<img loading="lazy" src="https://en.blog.alswl.com/202307/netease-music.png" alt="Netease Cloud Music"  />


</p>
<p><small>image via <a href="https://www.woshipm.com/evaluating/3493594.html">Netease Cloud Music product analysis</a></small></p>
<p>This use case was actually summarized by ‚Äúthe other side‚Äù üòÑ, but it still shows how important use cases are.</p>
<h3 id="summary-1">Summary<a hidden class="anchor" aria-hidden="true" href="#summary-1">#</a></h3>
<p>Besides subject‚Äìverb‚Äìobject, other useful techniques:</p>
<ul>
<li>User journey (action path): imagine the path the user (or actor) takes to reach their goal</li>
<li>Prioritize solving the 20% of issues on the core path</li>
<li>Organize use cases by role, orthogonal split, etc.; assign use cases to modules</li>
</ul>
<p>Deliverables: demo script, use case diagram.</p>
<h2 id="minimalist-architecture-design--design-looks-at-the-model">Minimalist Architecture Design ‚Äî Design Looks at the Model<a hidden class="anchor" aria-hidden="true" href="#minimalist-architecture-design--design-looks-at-the-model">#</a></h2>
<p>To me, the core of design is the <strong>model</strong>: <mark>the model defines the carrier and boundaries of data</mark>. <mark>Data defines the components; boundaries define ownership and responsibility.</mark> In UML, many entities and objects are used to define model boundaries. As the business system grows in complexity, modeling faces greater challenges.</p>
<p>A few modeling principles I use:</p>
<ul>
<li>Define terms (in both languages if needed), meaning, and notes.</li>
<li>Identify core models (focus on the critical 20%).</li>
<li>Refine and abstract models.</li>
<li>Make relationships between models explicit.</li>
<li>Combine static and dynamic: a few models have behavior; focus on the functions they provide.</li>
<li>Map business model ‚Üî data model.</li>
</ul>
<p>Many people don‚Äôt care about a glossary, but I do. There‚Äôs an effect called ‚Äúforeign language effect‚Äù‚Äîlike using Latin/Greek in natural history to describe species. For non-native English engineers, using English for terms can help focus the discussion.</p>
<p>Always keep the 80/20 rule in mind, especially in design: focus on core objects and zoom in on them rather than getting lost in details. Usually, focusing on the core 20% of models is enough for most scenarios.</p>
<p>When refining and abstracting models, iterate carefully. You can connect this to earlier use case definition and later sequence design; it takes solid domain knowledge. I like to refer to external code and designs at this stage.</p>
<p>Relationships between models are mainly 1:1, 1:N, M:N. Use arrows to show primary vs. secondary clearly. Primary/secondary implies ownership and affects many downstream details (URLs, database, lifecycle, etc.). I recommend avoiding M:N when possible; it often indicates an intermediate credential or relationship/binding.</p>
<p>Besides static data, consider model behavior (only a few models have it). This stage can feed into the next step‚Äîdetailed design.</p>
<p>After the business model, think about the data model. For typical business systems, this mapping is straightforward. Business systems are often stateless and rely on the database for storage. For data-intensive applications (DIA), you need to think about runtime data, lifecycle, and availability (if you have that need, you probably aren‚Äôt reading this far üòÑ).</p>
<h3 id="example-2">Example<a hidden class="anchor" aria-hidden="true" href="#example-2">#</a></h3>
<p>Kubernetes RBAC (Role-Based Access Control) is a common AuthZ (authorization) system (not AuthN‚Äîauthentication).</p>
<p>




<img loading="lazy" src="https://en.blog.alswl.com/202307/rbac.png" alt="Kubernetes RBAC"  />


</p>
<p><small>image via <a href="https://dev.to/alcide/kubernetes-rbac-moving-from-it-s-complicated-to-in-a-relationship-1bbm">Kubernetes RBAC - DEV Community</a></small></p>
<p>A few questions to consider:</p>
<ul>
<li>Why both Role and ClusterRole? What‚Äôs their structure?</li>
<li>Why not ACL? What‚Äôs the difference between ACL and RBAC?</li>
<li>Why not Policy?</li>
</ul>
<p>Modeling is what gives you these answers.</p>
<h3 id="models-in-non-business-systems">Models in Non-Business Systems<a hidden class="anchor" aria-hidden="true" href="#models-in-non-business-systems">#</a></h3>
<p>We‚Äôve been focusing on business models‚Äîwhat users perceive and the product understands, usually stored in the DB.</p>
<p>In infrastructure, there are models too, sometimes called ‚Äúconcepts.‚Äù Infrastructure models are often simpler; business models can be very complex because the world is complex, while infrastructure focuses on narrow, vertical problems.</p>
<p>Infrastructure also leads to more abstract modeling‚Äîe.g. the often-overlooked Manager/Service pattern. Models with data and state, like Executor, are common; Registry and Queue are common too.</p>
<p>Kubernetes <a href="https://kubernetes.io/docs/concepts/">Concepts</a>‚Äîdozens of subcategories and hundreds of concepts‚Äîshow how complex such a system can be.</p>
<h3 id="summary-2">Summary<a hidden class="anchor" aria-hidden="true" href="#summary-2">#</a></h3>
<p>Models are not just data; they define boundaries, and boundaries determine ownership and responsibility.</p>
<p>Design models in both static and dynamic terms: statically what they hold, dynamically what they do.</p>
<p>In infrastructure, deliverables may include UML model diagram, ER diagram, DB DML, class files, OpenAPI/Swagger (partially), etc.</p>
<h2 id="minimalist-architecture-design--details-look-at-the-sequence">Minimalist Architecture Design ‚Äî Details Look at the Sequence<a hidden class="anchor" aria-hidden="true" href="#minimalist-architecture-design--details-look-at-the-sequence">#</a></h2>
<blockquote>
<p>Programming = Data structures + Algorithms + Control flow</p></blockquote>
<p>Before turning design into code, the last important step is nailing the details. For stakeholders and decision makers this step may not matter much, but for the implementers (the dev team) it directly affects delivery quality and timeline.</p>
<p>I think details should be captured in <strong>sequence diagrams</strong>.</p>
<p>We often use two kinds of diagrams for details: <mark>flowcharts and sequence diagrams</mark>. They have a lot in common, but I prefer sequence diagrams because they show order and make the boundaries and interactions between systems clear.</p>
<p>My rule of thumb: one sequence diagram per use case.</p>
<h3 id="example-3">Example<a hidden class="anchor" aria-hidden="true" href="#example-3">#</a></h3>
<p>Example from an official AWS blog:</p>
<p>




<img loading="lazy" src="https://en.blog.alswl.com/202307/aws-seq.png" alt="Header-based API Gateway versioning with CloudFront"  />


</p>
<p><small>via <a href="https://aws.amazon.com/blogs/architecture/sequence-diagrams-enrich-your-understanding-of-distributed-architectures/">AWS Architecture Blog</a></small></p>
<p>The diagram shows a sequence for using CloudFront in AWS: how requests flow across systems and how various error cases are handled.</p>
<h3 id="summary-3">Summary<a hidden class="anchor" aria-hidden="true" href="#summary-3">#</a></h3>
<p>A few tips for sequence diagrams:</p>
<ul>
<li>User action is the trigger</li>
<li>System boundaries must be clear</li>
<li>Request and response = synchronous</li>
<li>Request without response = asynchronous</li>
</ul>
<p>Usually, once the sequence diagram is solid, you can hand off to the team with confidence. Without it, you rely entirely on collaboration and trust.</p>
<p>Deliverables: sequence diagram, API docs (OpenAPI/Swagger), frontend service generation (if applicable).</p>
<h2 id="minimalist-architecture-design--wrap-up">Minimalist Architecture Design ‚Äî Wrap-up<a hidden class="anchor" aria-hidden="true" href="#minimalist-architecture-design--wrap-up">#</a></h2>
<p>By this point we haven‚Äôt written code yet, but we know what to do and what it will look like. We have class structure, API definitions, frontend service generation, etc. Multiple teams can work in parallel without obvious bottlenecks.</p>
<ul>
<li>‚úÖ Problem defined</li>
<li>‚úÖ Approach chosen</li>
<li>‚úÖ Class structure, API definitions</li>
<li>‚úÖ Server-side code generation</li>
<li>‚úÖ Flow agreed</li>
<li>‚úÖ About 1/3 of reporting material</li>
<li>‚úÖ About 1/2 of tech talk material</li>
</ul>
<p>If you need to report later, you already have about one third of the content. If you need to write a tech talk, you have about half.</p>
<p>If the project is a simple CRUD app, there usually aren‚Äôt many hard parts.</p>
<p>If it‚Äôs a data-intensive application (DIA), you need to design and implement storage and think about consistency and concurrency. For a complex system, you also need to check for uncertainty at the boundaries between systems. If you have sync challenges (e.g. framework changes, communication layer changes), de-risk early. (I don‚Äôt think doing tech upgrades and feature development in parallel is wise.)</p>
<h2 id="extra--drawing-tools">Extra ‚Äî Drawing Tools<a hidden class="anchor" aria-hidden="true" href="#extra--drawing-tools">#</a></h2>
<p>I have my own set of drawing tools for architecture diagrams, flowcharts, etc. P.S. I even design logos for my products‚Äîmaybe I‚Äôve always wanted to be a designer üôÇ</p>
<p>As an engineer, you should build your own drawing UI kit, get good at it, and put together a toolbox so you can turn ideas in your head into documents quickly.</p>
<p>My toolkit is fairly rich. For architecture diagrams:</p>
<ul>
<li>Block diagrams
<ul>
<li>OmniGraffle (paid, complex, polished)</li>
<li>Excalidraw (simple, casual)</li>
</ul>
</li>
<li>Deployment diagrams
<ul>
<li>Excalidraw</li>
</ul>
</li>
<li>Mind maps
<ul>
<li>SimpleMind (paid)</li>
<li>XMind (paid)</li>
</ul>
</li>
</ul>
<p>For engineering design (UML):</p>
<ul>
<li>Use cases
<ul>
<li>Yuque drawing</li>
<li>PlantUML (Yuque can render it)</li>
</ul>
</li>
<li>Sequence diagrams
<ul>
<li>PlantUML</li>
</ul>
</li>
<li>State diagrams
<ul>
<li>Yuque</li>
</ul>
</li>
<li>ER diagrams
<ul>
<li>Excalidraw</li>
</ul>
</li>
<li>Gantt charts
<ul>
<li>PlantUML</li>
</ul>
</li>
</ul>
<p>Shameless plug: I maintain <a href="https://excalidraw.alswl.com/">Excalidraw (Fork)</a>, with Chinese handwriting fonts and consistent style.</p>
<h2 id="extra--the-hard-way">Extra ‚Äî the Hard Way<a hidden class="anchor" aria-hidden="true" href="#extra--the-hard-way">#</a></h2>
<p>We started from a simple, practical architecture design flow. If you‚Äôre the curious type, that may not be enough‚Äîthere‚Äôs still the 20% of complex cases. Here are some keywords and book recommendations to go deeper:</p>
<ul>
<li>Principles</li>
<li>Philosophy</li>
<li>Ideas</li>
<li>Laws</li>
<li>Methodology</li>
<li>Case studies</li>
</ul>
<p>Some books that help:</p>
<ul>
<li>Business architecture
<ul>
<li><a href="https://book.douban.com/subject/1792387/">Applying UML and Patterns - Craig Larman</a></li>
<li><a href="https://book.douban.com/subject/5344973/">Domain-Driven Design - Eric Evans</a></li>
</ul>
</li>
<li>Technical architecture
<ul>
<li><a href="https://book.douban.com/subject/30468597/">Refactoring - Martin Fowler</a></li>
<li><a href="https://book.douban.com/subject/4199741/">Clean Code - Robert C. Martin</a></li>
</ul>
</li>
</ul>

<hr />
<p>Link: <a href="https://en.blog.alswl.com/2023/07/architecture-design-the-easy-way/">Architecture Design the Easy Way | Log4D</a></p>
<p>3a1ff193cee606bd1e2ea554a16353ee</p>

    
  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://en.blog.alswl.com/tags/design/">Design</a></li>
      <li><a href="https://en.blog.alswl.com/tags/architecture/">Architecture</a></li>
    </ul>
<nav class="paginav">
  <a class="next" href="https://en.blog.alswl.com/2023/04/web-api-guidelines/">
    <span class="title">Next ¬ª</span>
    <br>
    <span>Pragmatic web API guidlines</span>
  </a>
</nav>

  </footer><script src="https://utteranc.es/client.js"
        repo="alswl/en.blog.alswl.com"
        issue-term="pathname"
        theme="preferred-color-scheme"
        crossorigin="anonymous"
        async>
</script>

</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2026 <a href="https://en.blog.alswl.com/">Log4D</a></span> ¬∑ 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
